{"version":3,"sources":["webpack:///./src/components/Following.vue?c7de","webpack:///./src/components/Following.vue?3059","webpack:///src/components/D:/cmder/project/twitter_front_end_vue/src/components/Following.vue","webpack:///./src/components/Following.vue?b872","webpack:///./src/components/Following.vue","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","user","key","Followship","id","attrs","name","params","followingId","avatar","_v","_s","account","on","$event","stopPropagation","preventDefault","deleteFollow","addFollow","introduction","staticRenderFns","data","users","props","initialUpdate","type","Boolean","required","mounted","fetchFollowing","watch","methods","$route","usersAPI","getUserFollowing","response","console","log","error","userId","map","isFollowed","$emit","component","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","length","undefined"],"mappings":"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","file":"js/chunk-3d159c34.dadda727.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Following.vue?vue&type=style&index=0&id=f0465c80&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"following\"},[_c('div',{staticClass:\"following-content\"},_vm._l((_vm.users),function(user){return _c('div',{key:user.Followship.id,staticClass:\"following-list\"},[_c('router-link',{attrs:{\"to\":{ name: 'other', params: { id: user.Followship.followingId } }}},[_c('img',{staticClass:\"following-list__avatar\",attrs:{\"src\":user.avatar,\"alt\":\"avatar on screen\"}})]),_c('div',{staticClass:\"following-item\"},[_c('div',{staticClass:\"following-title\"},[_c('span',{staticClass:\"following-title__name\"},[_vm._v(_vm._s(user.name))]),_c('router-link',{attrs:{\"to\":{\n              name: 'other',\n              params: { id: user.Followship.followingId },\n            }}},[_c('span',{staticClass:\"following-title__account\"},[_vm._v(\"@\"+_vm._s(user.account))])]),(user.isFollowed)?_c('button',{staticClass:\"following-title__followed\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollow(user.Followship.followingId)}}},[_vm._v(\" 正在跟隨 \")]):_c('button',{staticClass:\"following-title__follow\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollow(user.Followship.followingId)}}},[_vm._v(\" 跟隨 \")])],1),_c('p',{staticClass:\"following-title__description\"},[_vm._v(\" \"+_vm._s(user.introduction)+\" \")])])],1)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n// import { ToastWarning } from \"./../utils/helpers\";\r\nimport usersAPI from \"./../apis/users\";\r\n\r\nexport default {\r\n  name: \"Following\",\r\n  data() {\r\n    return {\r\n      users: [],\r\n    };\r\n  },\r\n  props: {\r\n    initialUpdate: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchFollowing();\r\n  },\r\n  watch: {\r\n    initialUpdate: function () {\r\n      this.fetchFollowing();\r\n    },\r\n  },\r\n  methods: {\r\n    async fetchFollowing() {\r\n      try {\r\n        const id = this.$route.params.id;\r\n        const response = await usersAPI.getUserFollowing(id);\r\n        console.log(response.data);\r\n        this.users = response.data;\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    async deleteFollow(userId) {\r\n      try {\r\n        const { data } = await usersAPI.deleteFollow({ userId });\r\n        console.log(data);\r\n        this.users = this.users.map((user) => {\r\n          if (user.id !== userId) {\r\n            return user;\r\n          } else {\r\n            return {\r\n              ...user,\r\n              isFollowed: false,\r\n            };\r\n          }\r\n        });\r\n        this.fetchFollowing();\r\n        this.$emit(\"update-popular\");\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    async addFollow(id) {\r\n      try {\r\n        const { data } = await usersAPI.addFollow({ id });\r\n        console.log(data);\r\n        this.users = this.users.map((user) => {\r\n          if (user.id !== id) {\r\n            return user;\r\n          } else {\r\n            return {\r\n              ...user,\r\n              isFollowed: true,\r\n            };\r\n          }\r\n        });\r\n        this.fetchFollowing();\r\n        this.$emit(\"update-popular\");\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    // addFollow() {\r\n    //   this.user.isFollowing = true;\r\n    // },\r\n    // deleteFollow() {\r\n    //   ToastWarning.fire({\r\n    //     title: \"確定要取消追蹤嗎?\",\r\n    //     // text: \"You won't be able to revert this!\",\r\n    //     icon: \"warning\",\r\n    //     showCancelButton: false,\r\n    //     confirmButtonColor: \"#3085d6\",\r\n    //     cancelButtonColor: \"#d33\",\r\n    //     confirmButtonText: \"是\",\r\n    //   }).then((result) => {\r\n    //     if (result.isConfirmed) {\r\n    //       ToastWarning.fire(\"OK!\", \"已經取消追蹤\", \"success\");\r\n    //       this.user.isFollowing = false;\r\n    //     }\r\n    //   });\r\n    // },\r\n  },\r\n};\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Following.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Following.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Following.vue?vue&type=template&id=f0465c80&scoped=true&\"\nimport script from \"./Following.vue?vue&type=script&lang=js&\"\nexport * from \"./Following.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Following.vue?vue&type=style&index=0&id=f0465c80&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f0465c80\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}