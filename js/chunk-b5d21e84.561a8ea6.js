(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b5d21e84"],{"13d8":function(t,e,a){},"1ff4":function(t,e,a){},"38c9":function(t,e,a){"use strict";a("1ff4")},"3b8f":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("ul",{staticClass:"pop-list"},[a("h2",{staticClass:"pop-title"},[t._v("Popular")]),t._l(t.users,(function(e){return a("li",{key:e.id,staticClass:"pop-item"},[a("div",{staticClass:"pop-avatar"},[a("router-link",{attrs:{to:{name:"other",params:{id:e.id}}}},[a("img",{staticClass:"pop-avatar__img",attrs:{src:e.avatar,alt:"avatar on screen"}})])],1),a("div",{staticClass:"pop-text"},[a("span",{staticClass:"pop-text__name"},[t._v(t._s(e.name))]),a("router-link",{staticClass:"pop-text__account",attrs:{to:{name:"other",params:{id:e.id}}}},[t._v("@"+t._s(e.account))])],1),a("div",{staticClass:"pop-btn"},[e.isFollowed?a("button",{staticClass:"btn followed",attrs:{type:"button"},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.deleteFollow(e.id)}}},[t._v(" 正在跟隨 ")]):a("button",{staticClass:"btn follow",attrs:{type:"button"},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.addFollow(e.id)}}},[t._v(" 跟隨 ")])])])}))],2)])},n=[],i=a("5530"),r=a("1da1"),o=(a("96cf"),a("d9e2"),a("d81d"),a("4cce")),c=a("2fa3"),l={name:"Popular",props:{initialPopular:{type:Boolean,required:!0}},data:function(){return{users:[]}},watch:{initialPopular:function(){this.fetchUsersTop()}},created:function(){this.fetchUsersTop()},methods:{fetchUsersTop:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].getUsersTop();case 3:if(a=e.sent,s=a.data.data,"error"!==s.status){e.next=7;break}throw new Error(s.message);case 7:t.users=s,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),c["a"].fire({icon:"warning",title:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},deleteFollow:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o["a"].deleteFollow({userId:t});case 3:s=a.sent,n=s.data,console.log(n),e.users=e.users.map((function(e){return e.id!==t?e:Object(i["a"])(Object(i["a"])({},e),{},{isFollowed:!1})})),e.$emit("update-follows"),r=e.$store.state.currentUser,e.$store.dispatch("fetchCurrentUser",{payload:r.id}),a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](0),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[0,12]])})))()},addFollow:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o["a"].addFollow({id:t});case 3:s=a.sent,n=s.data,console.log(n),e.users=e.users.map((function(e){return e.id!==t?e:Object(i["a"])(Object(i["a"])({},e),{},{isFollowed:!0})})),e.$emit("update-follows"),e.$store.dispatch("fetchCurrentUser"),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](0),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))()}}},u=l,d=(a("ad81"),a("2877")),p=Object(d["a"])(u,s,n,!1,null,"db8e19aa",null);e["a"]=p.exports},"520d":function(t,e,a){"use strict";a("80cc")},"80cc":function(t,e,a){},a1d8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARvSURBVHgB7VlbctNIFD1SYGo+WYJnBcAKUFaAWQFO1SQzfBFWgLMClD8KqMKsAFhBwgoQOxA7yA+hkmA3p69kI0t9W92y+cKnSmW51a/T99G3bwM77LDDH4EEW4T5HxnmuMteM/69B4M7fL9TfcQF30u+lXw/5/MlecPfLWFjIuaYE73EMSf2dDXpcJRsc87nJHkpJAdjMBEh8A1T9vAU20CC2SaEBhEx/1ICCZ4PkEAfSj7T5BXeIRLRRMwhcq8UrC0ABesU9e8FUj4Lkja0G2AMyK8POck8QwSCiYgqfcd7TiZzVxBdn+EaH5OZkNH7mmCEv9iXj9ACYzqDjwhEOJH/cKaQKFh+nLzGJ0TCHFE9qUqOTyUl8g8icCukkqiTm4SqAnTFI7rih2JHC3xyuVq2PSEZi+nah2vsIxK9EiGJCWu9XS8U1Rm7pCAEFniByhaaI81whWcutWtJO9o+LFLfR5lUIuJvosQN7jtJHFLnF5xUm4R85ILcFrvo4goHq76vcYIB8BLh4JbEqFFiB9rnqpadqodiuGet+uvgjk9VetwpnsluP4N1vYqjEGfjgUpEpGFXcVXAATQSleTeB+4rU2fpDdXOt39c4i29ndq/LhHTUampi4Rg0SOJdYy4oWbtQp/LFju16npL3798RLLG+4w2ceqsdiQrPEIM9rrqpU6jaacJIwoFqdI4w6/JWeM+UQdBR3L9WDicgYamnVJ1XdK0SJWBHjT+6SplBpBYTuiwN0zp2mnV9q6rbqoMtByk1AzQOUgMlAmtobK9drvMVdVNxKzUagoNQ6XxC16JSITttj1nO50I3e1vk0YPlI14OTenC9ZUy1b+AA1zJQIOh91YT9WvxnPWSWKIVJ3pRNJw96lAdyDV2N5jgAup2tEPfHF+msgBKcNw5L0nwNRzDlFIaqpVqiv2d7/b9CAoKOS5/dwjldJVqBE5h4Z5gNvUJlDFamFqk0gQ6SovXcVuInMPkaEJh2s88tpFG7p6Fe7qLiT4Ch1DiExIoohpoKqXcS+ykwgDxEINmU103mniM267Z3Dze+j82FWvUssNqO5X1eU9tzfrzlDa95KQMCRVvGBbvYyu8v4TogMicvRKxUbM+0EkoEcJ9Vj5quBG93jRRARVlqPslBtJxE35/b7PJniGGdOhfEZAeF4nInI5E3mcRX8WhWflJFfO0VWGZemOi77kXE++uKwXwD0WbdbXdz8Ru3opik2z5TXpdjKjVUlOogcYgKBMIydhrwwuYpPLtQQes+0ECIwIrEHv4SB24WJTptYwc+2Spp74iK8PKMUx7eXe4A3Uut4FTu1WEFI9KGUquMIjJp7POIDNxqNOdZZrdS7lHFHBYIPbF9jT4YheqgytHn+tcCTp0GP8XkSnTeP3ETuAEYMssW1Y920z+wNyv8Ov3uwdx205yU2wHeQ2xA+OjlvYRIsFDUIZYhN1lQRyHuJOhxJYYmMiTZgn9Fbz+mq6Cj1Grevp6lquipmKIZdDO+ywwx+On7hwrAY1BYcqAAAAAElFTkSuQmCC"},a672:function(t,e,a){"use strict";a("c2c9")},ad81:function(t,e,a){"use strict";a("13d8")},c2c9:function(t,e,a){},d000:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),t.isAdmin?a("div",{staticClass:"grid"},[a("ul",{staticClass:"nav-list"},[a("li",{class:["nav-item",{active:"tweet-list"===this.$route.name}]},[a("router-link",{attrs:{to:"/admin/tweetList"}},[a("i",{staticClass:"nav-item__icon fa-solid fa-house"}),t._v("推文清單")])],1),a("li",{class:["nav-item",{active:"user-list"===this.$route.name}]},[a("router-link",{attrs:{to:"/admin/userList"}},[a("i",{staticClass:"nav-item__icon fa-solid fa-user"}),t._v("使用者列表")])],1)])]):a("div",{staticClass:"grid"},[a("ul",{staticClass:"nav-list"},[a("li",{class:["nav-item",{active:"main"===this.$route.name}]},[a("router-link",{attrs:{to:"/main"}},[a("i",{staticClass:"nav-item__icon fa-solid fa-house"}),t._v("首頁")])],1),a("li",{class:["nav-item",{active:t.isUsers}]},[a("router-link",{attrs:{to:{name:"users",params:{id:t.currentUser.id}}}},[a("i",{staticClass:"nav-item__icon fa-solid fa-user"}),t._v("個人資料")])],1),a("li",{class:["nav-item",{active:"setting"===this.$route.name}]},[a("router-link",{attrs:{to:"/setting"}},[a("i",{staticClass:"nav-item__icon fa-solid fa-gear"}),t._v("設定")])],1),a("button",{staticClass:"btn",attrs:{"data-bs-toggle":"modal","data-bs-target":"#createTweetsModal"}},[t._v("推文")])])]),a("li",{staticClass:"nav-item nav-logout",on:{click:t.logout}},[t._m(1)])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",[s("img",{staticClass:"logo",attrs:{src:a("a1d8"),alt:"logo on screen"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:""}},[a("i",{staticClass:"nav-item__icon fa-solid fa-right-from-bracket"}),t._v("登出")])}],i=a("5530"),r=(a("caad"),a("2532"),a("2f62")),o={name:"navBar",computed:Object(i["a"])({},Object(r["b"])(["currentUser"])),data:function(){return{isAdmin:!1,isUsers:!1}},mounted:function(){this.confirmRouter()},methods:{confirmRouter:function(){this.$route.path.includes("admin")?this.isAdmin=!0:this.isAdmin=!1,this.$route.path.includes("users")?this.isUsers=!0:this.isUsers=!1},logout:function(){this.$store.commit("revokeAuthenication"),this.$router.push("/signin")}}},c=o,l=(a("a672"),a("2877")),u=Object(l["a"])(c,s,n,!1,null,"1cdbc0c0",null);e["a"]=u.exports},d13f:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"main"},[a("div",{staticClass:"wrapper"},[a("NavBar"),a("div",{staticClass:"follows-content"},[a("FollowsTabs"),a("router-view",{attrs:{"initial-update":t.isUpdate},on:{"update-popular":function(e){t.popularUpdate=!t.popularUpdate}}})],1),a("Popular",{attrs:{"initial-popular":t.popularUpdate},on:{"update-follows":function(e){t.isUpdate=!t.isUpdate}}})],1)])},n=[],i=a("d000"),r=a("3b8f"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"follows-tabs"},[a("div",{staticClass:"user_title"},[a("div",{staticClass:"user_title_return",on:{click:function(e){return t.$router.back()}}},[a("i",{staticClass:"fa-solid fa-arrow-left"})]),a("div",{staticClass:"user_title_area"},[a("span",{staticClass:"user_name"},[t._v(t._s(t.currentUser.name))]),a("span",{staticClass:"user_tweet"},[t._v(t._s(t.currentUser.tweetCount)+"推文")])])]),a("div",{staticClass:"tabs"},[a("router-link",{class:["tabs__btn",{active:"follows"===this.$route.name}],attrs:{to:{name:"follows",params:{id:t.currentUser.id}}}},[t._v("跟隨者")]),a("router-link",{class:["tabs__btn",{active:"following"===this.$route.name}],attrs:{to:{name:"following",params:{id:t.currentUser.id}}}},[t._v("正在跟隨")])],1)])},c=[],l=a("5530"),u=a("2f62"),d={name:"FollowsTabs",computed:Object(l["a"])({},Object(u["b"])(["currentUser"]))},p=d,f=(a("520d"),a("2877")),v=Object(f["a"])(p,o,c,!1,null,"19c9faba",null),m=v.exports,h={name:"Followers",components:{NavBar:i["a"],Popular:r["a"],FollowsTabs:m},data:function(){return{isUpdate:!1,popularUpdate:!1}}},w=h,A=(a("38c9"),Object(f["a"])(w,s,n,!1,null,"b5b418a6",null));e["default"]=A.exports},d81d:function(t,e,a){"use strict";var s=a("23e7"),n=a("b727").map,i=a("1dde"),r=i("map");s({target:"Array",proto:!0,forced:!r},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-b5d21e84.561a8ea6.js.map