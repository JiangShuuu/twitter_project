{"version":3,"sources":["webpack:///./src/views/AdminSignIn.vue?6228","webpack:///src/views/D:/cmder/project/twitter_front_end_vue/src/views/AdminSignIn.vue","webpack:///./src/views/AdminSignIn.vue?7c05","webpack:///./src/views/AdminSignIn.vue","webpack:///./src/views/AdminSignIn.vue?ac92"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","on","handleSubmit","attrs","_v","staticRenderFns","name","components","LoginForm","data","methods","formData","account","password","authorizationAPI","adminSignIn","response","status","Error","message","localStorage","setItem","token","$store","commit","Toast","fire","icon","title","$router","push","component"],"mappings":"gJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACN,EAAIO,GAAG,GAAGH,EAAG,YAAY,CAACI,GAAG,CAAC,eAAeR,EAAIS,gBAAgBL,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,cAAc,CAACE,YAAY,aAAaI,MAAM,CAAC,GAAK,YAAY,CAACV,EAAIW,GAAG,WAAW,IAAI,MAC9VC,EAAkB,CAAC,WAAa,IAAIZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACM,MAAM,CAAC,IAAM,EAAQ,QAAsB,IAAM,MAAMN,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIW,GAAG,c,sECmBpO,GACbE,KAAM,cACNC,WAAY,CACVC,kBAEFC,KALa,WAMX,MAAO,IAETC,QAAS,CACDR,aADC,SACYS,GAAU,oLAEjBC,EAAsBD,EAAtBC,QAASC,EAAaF,EAAbE,SAFQ,SAIFC,OAAiBC,YAAY,CAClDH,QAASA,EACTC,SAAUA,IANa,UAInBG,EAJmB,OASjBP,EAASO,EAATP,KACY,YAAhBA,EAAKQ,OAVgB,sBAWjB,IAAIC,MAAMT,EAAKU,SAXE,cAezBC,aAAaC,QAAQ,QAASZ,EAAKa,OAfV,UAkBnB,EAAKC,OAAOC,OAAO,iBAAkBf,EAAKA,MAlBvB,QAoBzBgB,OAAMC,KAAK,CACTC,KAAM,UACNC,MAAOnB,EAAKU,UAEd,EAAKU,QAAQC,KAAK,UAxBO,qDA0BzBL,OAAMC,KAAK,CACTC,KAAM,UACNC,MAAO,KAAMT,UA5BU,+DC7BoT,I,wBCQjVY,EAAY,eACd,EACAvC,EACAa,GACA,EACA,KACA,WACA,MAIa,aAAA0B,E,2CCnBf","file":"js/chunk-304b9aea.35a6f0a6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"adminSignIn\"},[_c('div',{staticClass:\"content\"},[_vm._m(0),_c('LoginForm',{on:{\"login-submit\":_vm.handleSubmit}}),_c('div',{staticClass:\"link\"},[_c('router-link',{staticClass:\"link_admin\",attrs:{\"to\":\"/signIn\"}},[_vm._v(\"前台登入\")])],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('img',{attrs:{\"src\":require(\"../assets/logo.png\"),\"alt\":\"\"}}),_c('span',{staticClass:\"title\"},[_vm._v(\"後台登入\")])])}]\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport LoginForm from \"../components/LoginForm.vue\";\r\nimport { Toast } from \"./../utils/helpers\";\r\nimport authorizationAPI from \"./../apis/authorization.js\";\r\n\r\nexport default {\r\n  name: \"adminSignIn\",\r\n  components: {\r\n    LoginForm,\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    async handleSubmit(formData) {\r\n      try {\r\n        const { account, password } = formData;\r\n\r\n        const response = await authorizationAPI.adminSignIn({\r\n          account: account,\r\n          password: password,\r\n        });\r\n\r\n        const { data } = response;\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        // 將 token 存入 localStorage\r\n        localStorage.setItem(\"token\", data.token);\r\n\r\n        // 透過 setCurrentUser 把管理者資料存到 vuex 的 state 中\r\n        await this.$store.commit(\"setCurrentUser\", data.data);\r\n\r\n        Toast.fire({\r\n          icon: \"success\",\r\n          title: data.message,\r\n        });\r\n        this.$router.push(\"/admin\");\r\n      } catch (error) {\r\n        Toast.fire({\r\n          icon: \"warning\",\r\n          title: error.message,\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSignIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSignIn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminSignIn.vue?vue&type=template&id=ea903506&scoped=true&\"\nimport script from \"./AdminSignIn.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminSignIn.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminSignIn.vue?vue&type=style&index=0&id=ea903506&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ea903506\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminSignIn.vue?vue&type=style&index=0&id=ea903506&lang=scss&scoped=true&\""],"sourceRoot":""}