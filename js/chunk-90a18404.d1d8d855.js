(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-90a18404"],{"274d":function(t,e,a){},"4ef5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"signInPage"},[a("div",{staticClass:"wrapper"},[a("NavBar"),a("div",{staticClass:"content"},[t._m(0),a("div",{staticClass:"content_form"},[a("AccountForm",{attrs:{"initial-user":t.currentUser},on:{"account-info":t.handleSubmit}})],1)])],1),a("CreateTweets")],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content_title"},[a("span",{staticClass:"content_title_name"},[t._v("帳戶設定")])])}],n=a("1da1"),i=(a("96cf"),a("b0c0"),a("d9e2"),a("9787")),o=a("d000"),c=a("4360"),u=a("2fa3"),l=a("4cce"),d=a("d474"),m={name:"Setting",components:{AccountForm:i["a"],NavBar:o["a"],CreateTweets:d["a"]},data:function(){return{currentUser:{id:"",account:"",name:"",email:""}}},mounted:function(){this.fetchUserInfo()},methods:{fetchUserInfo:function(){var t=c["a"].state.currentUser,e=t.account,a=t.name,s=t.email,r=t.id;this.currentUser={account:e,name:a,email:s,id:r}},handleSubmit:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,r,n,i,o,c,d,m;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,s=t.name,r=t.account,n=t.email,i=t.password,o=t.checkPassword,c=t.id,a.next=4,l["a"].settingUserAccount(c,{name:s,account:r,email:n,password:i,checkPassword:o});case 4:if(d=a.sent,m=d.data,"success"===m.status){a.next=8;break}throw new Error(m.message);case 8:u["a"].fire({icon:"success",title:m.message}),e.$store.dispatch("fetchCurrentUser"),e.$router.push("/main"),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](0),u["a"].fire({icon:"warning",title:a.t0.message});case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))()}}},f=m,p=(a("fbd2"),a("2877")),v=Object(p["a"])(f,s,r,!1,null,"69492173",null);e["default"]=v.exports},"53fb":function(t,e,a){"use strict";a("5d67")},"5d67":function(t,e,a){},6783:function(t,e,a){"use strict";a("a4d3"),a("e01a");var s=a("2fa3");e["a"]={getTweets:function(){return s["b"].get("api/tweets?page=1")},createTweets:function(t){var e=t.description;return s["b"].post("api/tweets",{description:e})},replyTweets:function(t){var e=t.tweetId,a=t.comment;return s["b"].post("api/tweets/".concat(e,"/replies"),{comment:a})},likeTweets:function(t){return s["b"].post("api/tweets/".concat(t,"/like"))},unLikeTweets:function(t){return s["b"].post("api/tweets/".concat(t,"/unlike"))},getTweetDetail:function(t){var e=t.id;return s["b"].get("api/tweets/".concat(e))}}},"6ce2":function(t,e,a){"use strict";a("f4a4")},9787:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"accountForm"},[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit;return[a("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),s(t.accountInfoSubmit)}}},[a("ValidationProvider",{attrs:{name:"account",rules:"create_account|alpha_num|max_length:12"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"form-floating"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.account,expression:"user.account"}],staticClass:"form-control",attrs:{type:"account",id:"account",placeholder:"abc123",autofocus:""},domProps:{value:t.user.account},on:{input:function(e){e.target.composing||t.$set(t.user,"account",e.target.value)}}}),a("label",{attrs:{for:"account"}},[t._v("帳號")]),a("span",{staticClass:"error_message"},[t._v(t._s(s[0]))])])]}}],null,!0)}),a("ValidationProvider",{attrs:{name:"Name",rules:"create_name|alpha_num|max_name_length:50"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"form-floating"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"name",id:"name",placeholder:"john",autofocus:""},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}}),a("label",{attrs:{for:"account"}},[t._v("名稱")]),a("span",{staticClass:"error_message"},[t._v(t._s(s[0]))])])]}}],null,!0)}),a("ValidationProvider",{attrs:{name:"email",rules:"create_email|email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"form-floating"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"name@example.com",autofocus:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),a("label",{attrs:{for:"email"}},[t._v("Email")]),a("span",{staticClass:"error_message"},[t._v(t._s(s[0]))])])]}}],null,!0)}),a("ValidationProvider",{attrs:{name:"password",rules:"create_password|min_length:6|max_length:12",vid:"confirmation"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"form-floating"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"12345678",autofocus:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),a("label",{attrs:{for:"password"}},[t._v("密碼")]),a("span",{staticClass:"error_message"},[t._v(t._s(s[0]))])])]}}],null,!0)}),a("ValidationProvider",{attrs:{rules:"confirmed:confirmation|confirmed_password"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"form-floating"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.checkPassword,expression:"user.checkPassword"}],staticClass:"form-control",attrs:{type:"password",id:"checkpassword",placeholder:"12345678",autofocus:""},domProps:{value:t.user.checkPassword},on:{input:function(e){e.target.composing||t.$set(t.user,"checkPassword",e.target.value)}}}),a("label",{attrs:{for:"checkpassword"}},[t._v("密碼確認")]),a("span",{staticClass:"error_message"},[t._v(t._s(s[0]))])])]}}],null,!0)}),t.isSetting?a("div",{staticClass:"button_save"},[a("button",{staticClass:"btn saveBtn",attrs:{type:"submit"}},[t._v("儲存")])]):a("div",{staticClass:"button_signUp"},[a("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("註冊")])])],1)]}}])})],1)},r=[],n=a("5530"),i={name:"AccountForm",props:{initialUser:{type:Object,required:!0}},data:function(){return{user:{id:"",account:"",name:"",email:"",password:"",checkPassword:""},isSetting:!1}},mounted:function(){this.state()},watch:{initialUser:function(){this.state()}},methods:{state:function(){"/setting"===this.$route.path&&(this.isSetting=!0,this.user=Object(n["a"])({},this.initialUser))},accountInfoSubmit:function(){this.$emit("account-info",this.user)}}},o=i,c=(a("6ce2"),a("2877")),u=Object(c["a"])(o,s,r,!1,null,"6d32fb68",null);e["a"]=u.exports},a1d8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARvSURBVHgB7VlbctNIFD1SYGo+WYJnBcAKUFaAWQFO1SQzfBFWgLMClD8KqMKsAFhBwgoQOxA7yA+hkmA3p69kI0t9W92y+cKnSmW51a/T99G3bwM77LDDH4EEW4T5HxnmuMteM/69B4M7fL9TfcQF30u+lXw/5/MlecPfLWFjIuaYE73EMSf2dDXpcJRsc87nJHkpJAdjMBEh8A1T9vAU20CC2SaEBhEx/1ICCZ4PkEAfSj7T5BXeIRLRRMwhcq8UrC0ABesU9e8FUj4Lkja0G2AMyK8POck8QwSCiYgqfcd7TiZzVxBdn+EaH5OZkNH7mmCEv9iXj9ACYzqDjwhEOJH/cKaQKFh+nLzGJ0TCHFE9qUqOTyUl8g8icCukkqiTm4SqAnTFI7rih2JHC3xyuVq2PSEZi+nah2vsIxK9EiGJCWu9XS8U1Rm7pCAEFniByhaaI81whWcutWtJO9o+LFLfR5lUIuJvosQN7jtJHFLnF5xUm4R85ILcFrvo4goHq76vcYIB8BLh4JbEqFFiB9rnqpadqodiuGet+uvgjk9VetwpnsluP4N1vYqjEGfjgUpEpGFXcVXAATQSleTeB+4rU2fpDdXOt39c4i29ndq/LhHTUampi4Rg0SOJdYy4oWbtQp/LFju16npL3798RLLG+4w2ceqsdiQrPEIM9rrqpU6jaacJIwoFqdI4w6/JWeM+UQdBR3L9WDicgYamnVJ1XdK0SJWBHjT+6SplBpBYTuiwN0zp2mnV9q6rbqoMtByk1AzQOUgMlAmtobK9drvMVdVNxKzUagoNQ6XxC16JSITttj1nO50I3e1vk0YPlI14OTenC9ZUy1b+AA1zJQIOh91YT9WvxnPWSWKIVJ3pRNJw96lAdyDV2N5jgAup2tEPfHF+msgBKcNw5L0nwNRzDlFIaqpVqiv2d7/b9CAoKOS5/dwjldJVqBE5h4Z5gNvUJlDFamFqk0gQ6SovXcVuInMPkaEJh2s88tpFG7p6Fe7qLiT4Ch1DiExIoohpoKqXcS+ykwgDxEINmU103mniM267Z3Dze+j82FWvUssNqO5X1eU9tzfrzlDa95KQMCRVvGBbvYyu8v4TogMicvRKxUbM+0EkoEcJ9Vj5quBG93jRRARVlqPslBtJxE35/b7PJniGGdOhfEZAeF4nInI5E3mcRX8WhWflJFfO0VWGZemOi77kXE++uKwXwD0WbdbXdz8Ru3opik2z5TXpdjKjVUlOogcYgKBMIydhrwwuYpPLtQQes+0ECIwIrEHv4SB24WJTptYwc+2Spp74iK8PKMUx7eXe4A3Uut4FTu1WEFI9KGUquMIjJp7POIDNxqNOdZZrdS7lHFHBYIPbF9jT4YheqgytHn+tcCTp0GP8XkSnTeP3ETuAEYMssW1Y920z+wNyv8Ov3uwdx205yU2wHeQ2xA+OjlvYRIsFDUIZYhN1lQRyHuJOhxJYYmMiTZgn9Fbz+mq6Cj1Grevp6lquipmKIZdDO+ywwx+On7hwrAY1BYcqAAAAAElFTkSuQmCC"},a672:function(t,e,a){"use strict";a("c2c9")},c2c9:function(t,e,a){},d000:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),t.isAdmin?a("div",{staticClass:"grid"},[a("ul",{staticClass:"nav-list"},[a("li",{class:["nav-item",{active:"tweet-list"===this.$route.name}]},[a("router-link",{attrs:{to:"/admin/tweetList"}},[a("i",{staticClass:"nav-item__icon fa-solid fa-house"}),t._v("推文清單")])],1),a("li",{class:["nav-item",{active:"user-list"===this.$route.name}]},[a("router-link",{attrs:{to:"/admin/userList"}},[a("i",{staticClass:"nav-item__icon fa-solid fa-user"}),t._v("使用者列表")])],1)])]):a("div",{staticClass:"grid"},[a("ul",{staticClass:"nav-list"},[a("li",{class:["nav-item",{active:"main"===this.$route.name}]},[a("router-link",{attrs:{to:"/main"}},[a("i",{staticClass:"nav-item__icon fa-solid fa-house"}),t._v("首頁")])],1),a("li",{class:["nav-item",{active:t.isUsers}]},[a("router-link",{attrs:{to:{name:"users",params:{id:t.currentUser.id}}}},[a("i",{staticClass:"nav-item__icon fa-solid fa-user"}),t._v("個人資料")])],1),a("li",{class:["nav-item",{active:"setting"===this.$route.name}]},[a("router-link",{attrs:{to:"/setting"}},[a("i",{staticClass:"nav-item__icon fa-solid fa-gear"}),t._v("設定")])],1),a("button",{staticClass:"btn",attrs:{"data-bs-toggle":"modal","data-bs-target":"#createTweetsModal"}},[t._v("推文")])])]),a("li",{staticClass:"nav-item nav-logout",on:{click:t.logout}},[t._m(1)])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",[s("img",{staticClass:"logo",attrs:{src:a("a1d8"),alt:"logo on screen"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:""}},[a("i",{staticClass:"nav-item__icon fa-solid fa-right-from-bracket"}),t._v("登出")])}],n=a("5530"),i=(a("caad"),a("2532"),a("2f62")),o={name:"navBar",computed:Object(n["a"])({},Object(i["b"])(["currentUser"])),data:function(){return{isAdmin:!1,isUsers:!1}},mounted:function(){this.confirmRouter()},methods:{confirmRouter:function(){this.$route.path.includes("admin")?this.isAdmin=!0:this.isAdmin=!1,this.$route.path.includes("users")?this.isUsers=!0:this.isUsers=!1},logout:function(){this.$store.commit("revokeAuthenication"),this.$router.push("/signin")}}},c=o,u=(a("a672"),a("2877")),l=Object(u["a"])(c,s,r,!1,null,"1cdbc0c0",null);e["a"]=l.exports},d474:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[a("div",{staticClass:"modal fade",attrs:{id:"createTweetsModal",tabindex:"-1","aria-labelledby":"createTweetsModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(0),a("ValidationProvider",{attrs:{name:"Name",rules:"max_tweet_length:140|tweet_empty"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"modal-tweets"},[a("img",{staticClass:"modal-tweets__avatar",attrs:{src:t.currentUser.avatar,alt:"avatar on screen"}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"modal-tweets__text",attrs:{name:"mytext",rows:"6",cols:"40",maxlength:"140",placeholder:"有什麼新鮮事?",required:""},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),a("span",{staticClass:"error_message"},[t._v(t._s(s[0]))])])]}}])}),a("button",{staticClass:"btn btn-secondary",attrs:{type:"submit","data-bs-dismiss":"modal"}},[t._v(" 推文 ")])],1)])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("li",{staticClass:"modal-header_close",attrs:{"data-bs-dismiss":"modal","aria-label":"Close"}},[a("i",{staticClass:"fa-solid fa-xmark"})])])}],n=a("1da1"),i=a("5530"),o=(a("96cf"),a("a4d3"),a("e01a"),a("d9e2"),a("6783")),c=a("2f62"),u=a("2fa3"),l={name:"CreateTweet",computed:Object(i["a"])({},Object(c["b"])(["currentUser"])),data:function(){return{description:""}},methods:{handleSubmit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].createTweets({description:t.description});case 3:if(a=e.sent,s=a.data,"error"!==s.status){e.next=7;break}throw new Error(s.message);case 7:u["a"].fire({icon:"success",title:s.message}),t.$emit("modal-create-tweet"),t.description="",e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),u["a"].fire({icon:"warning",title:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}}},d=l,m=(a("53fb"),a("2877")),f=Object(m["a"])(d,s,r,!1,null,"28765927",null);e["a"]=f.exports},e01a:function(t,e,a){"use strict";var s=a("23e7"),r=a("83ab"),n=a("da84"),i=a("e330"),o=a("1a2d"),c=a("1626"),u=a("3a9b"),l=a("577e"),d=a("9bf2").f,m=a("e893"),f=n.Symbol,p=f&&f.prototype;if(r&&c(f)&&(!("description"in p)||void 0!==f().description)){var v={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=u(p,this)?new f(t):void 0===t?f():f(t);return""===t&&(v[e]=!0),e};m(h,f),h.prototype=p,p.constructor=h;var g="Symbol(test)"==String(f("test")),w=i(p.toString),_=i(p.valueOf),b=/^Symbol\((.*)\)[^)]+$/,A=i("".replace),C=i("".slice);d(p,"description",{configurable:!0,get:function(){var t=_(this),e=w(t);if(o(v,t))return"";var a=g?C(e,7,-1):A(e,b,"$1");return""===a?void 0:a}}),s({global:!0,forced:!0},{Symbol:h})}},f4a4:function(t,e,a){},fbd2:function(t,e,a){"use strict";a("274d")}}]);
//# sourceMappingURL=chunk-90a18404.d1d8d855.js.map