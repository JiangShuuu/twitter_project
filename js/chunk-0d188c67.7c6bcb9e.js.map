{"version":3,"sources":["webpack:///./src/components/Follows.vue?c61a","webpack:///src/components/D:/cmder/project/twitter_front_end_vue/src/components/Follows.vue","webpack:///./src/components/Follows.vue?adf9","webpack:///./src/components/Follows.vue","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/components/Follows.vue?156d"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","user","key","Followship","id","attrs","avatar","_v","_s","name","account","on","$event","stopPropagation","preventDefault","deleteFollow","followerId","addFollow","introduction","staticRenderFns","props","initialUpdate","type","Boolean","required","data","users","watch","fetchFollowers","mounted","methods","$route","params","usersAPI","getUserFollowers","response","console","error","userId","log","map","isFollowed","$emit","component","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","length","undefined"],"mappings":"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","file":"js/chunk-0d188c67.7c6bcb9e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"follows\"},[_c('div',{staticClass:\"follows-content\"},_vm._l((_vm.users),function(user){return _c('div',{key:user.Followship.id,staticClass:\"follows-list\"},[_c('img',{staticClass:\"follows-list__avatar\",attrs:{\"src\":user.avatar,\"alt\":\"avatar on screen\"}}),_c('div',{staticClass:\"follows-item\"},[_c('div',{staticClass:\"follows-title\"},[_c('span',{staticClass:\"follows-title__name\"},[_vm._v(_vm._s(user.name))]),_c('span',{staticClass:\"follows-title__account\"},[_vm._v(\"@\"+_vm._s(user.account))]),(user.isFollowed)?_c('button',{staticClass:\"follows-title__followed\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollow(user.Followship.followerId)}}},[_vm._v(\" 正在跟隨 \")]):_c('button',{staticClass:\"follows-title__follow\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollow(user.Followship.followerId)}}},[_vm._v(\" 跟隨 \")])]),_c('p',{staticClass:\"follows-title__description\"},[_vm._v(\" \"+_vm._s(user.introduction)+\" \")])])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n// import { ToastWarning } from \"./../utils/helpers\";\r\nimport usersAPI from \"./../apis/users\";\r\n\r\nexport default {\r\n  name: \"Follows\",\r\n  props: {\r\n    initialUpdate: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      users: [],\r\n    };\r\n  },\r\n  watch: {\r\n    initialUpdate: function () {\r\n      this.fetchFollowers();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchFollowers();\r\n  },\r\n  methods: {\r\n    async fetchFollowers() {\r\n      try {\r\n        const id = this.$route.params.id;\r\n        const response = await usersAPI.getUserFollowers(id);\r\n        this.users = response.data;\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    async deleteFollow(userId) {\r\n      try {\r\n        const { data } = await usersAPI.deleteFollow({ userId });\r\n        console.log(data);\r\n        this.users = this.users.map((user) => {\r\n          if (user.id !== userId) {\r\n            return user;\r\n          } else {\r\n            return {\r\n              ...user,\r\n              isFollowed: false,\r\n            };\r\n          }\r\n        });\r\n        this.fetchFollowers();\r\n        this.$emit(\"update-popular\");\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    async addFollow(id) {\r\n      try {\r\n        const { data } = await usersAPI.addFollow({ id });\r\n        console.log(data);\r\n        this.users = this.users.map((user) => {\r\n          if (user.id !== id) {\r\n            return user;\r\n          } else {\r\n            return {\r\n              ...user,\r\n              isFollowed: true,\r\n            };\r\n          }\r\n        });\r\n        this.fetchFollowers();\r\n        this.$emit(\"update-popular\");\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    // addFollow() {\r\n    //   this.user.isFollowed = true;\r\n    // },\r\n    // deleteFollow() {\r\n    //   ToastWarning.fire({\r\n    //     title: \"確定要取消追蹤嗎?\",\r\n    //     // text: \"You won't be able to revert this!\",\r\n    //     icon: \"warning\",\r\n    //     showCancelButton: false,\r\n    //     confirmButtonColor: \"#3085d6\",\r\n    //     cancelButtonColor: \"#d33\",\r\n    //     confirmButtonText: \"是\",\r\n    //   }).then((result) => {\r\n    //     if (result.isConfirmed) {\r\n    //       ToastWarning.fire(\"OK!\", \"已經取消追蹤\", \"success\");\r\n    //       this.user.isFollowed = false;\r\n    //     }\r\n    //   });\r\n    // },\r\n  },\r\n};\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Follows.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Follows.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Follows.vue?vue&type=template&id=449660f3&scoped=true&\"\nimport script from \"./Follows.vue?vue&type=script&lang=js&\"\nexport * from \"./Follows.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Follows.vue?vue&type=style&index=0&id=449660f3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"449660f3\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Follows.vue?vue&type=style&index=0&id=449660f3&lang=scss&scoped=true&\""],"sourceRoot":""}